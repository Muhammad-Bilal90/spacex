# # This is a basic workflow to help you get started with Actions

# name: Spacex Pwa Tdd

# # on:
# #   push:
# #     branches: [ master ]
# #   pull_request:
# #     branches: [ master ]

# # jobs:
# #   build:

# #     runs-on: ubuntu-latest

# #     strategy:
# #       matrix:
# #         node-version: [16.x]
# #         # See supported Node.js release schedule at https://nodejs.org/en/about/releases/

# #     steps:
# #     - uses: actions/checkout@v3
# #     - name: Use Node.js ${{ matrix.node-version }}
# #       uses: actions/setup-node@v3
# #       with:
# #         node-version: ${{ matrix.node-version }}
# #         cache: 'npm'
# #     - run: npm ci
# #     - run: npm run build --if-present
# #     - run: npm run test
    
# #     - name: Codecov
# #       uses: codecov/codecov-action@v2.1.0

# #     - name: Netlify Deploy
# #       # uses: jsmrcaga/action-netlify-deploy@v1.7.1

# #       env:
# #         NETLIFY_AUTH_TOKEN: ${{ secrets.NETLIFY_SPACEX_TOKEN }}
# #         NETLIFY_SITE_ID: ${{ secrets.NETLIFY_SITEID }}
# #       run: netlify deploy --prod

# on:
#   # Triggers the workflow on push or pull request events but only for the main branch
#   push:
#     branches: [ main ]
#   pull_request:
#     branches: [ master ]  

#   # Allows you to run this workflow manually from the Actions tab
#   workflow_dispatch:

# # A workflow run is made up of one or more jobs that can run sequentially or in parallel
# jobs:
#   # This workflow contains a single job called "build"
#   build:
#     # The type of runner that the job will run on
#     runs-on: ubuntu-latest

#     # Steps represent a sequence of tasks that will be executed as part of the job
#     steps:
#       - uses: actions/checkout@v2

#       # Runs a single command using the runners shell
#       - name: Installing Node
#         uses: actions/setup-node@v2-beta
#         with:
#           node-version: 16

#       # Runs a set of commands using the runners shell
#       - name: Github Actions for npm
#         uses: jaid/action-npm-install@v1.2.1
#         with:
#           cmd: install
      
#       - name: creating build
#         run: npm run build

#       # - name: Installing surge
#       #   run: npm install -g surge    
          
#       # - name: deploying using surge
#       #   run: surge ./build http://react_expense_teacker_app_by_bilal.surge.sh/ --token ${{secrets.EXPENSE_TRACKER_TOKEN}}

#       - name: Netlify Deploy
#         uses: jsmrcaga/action-netlify-deploy@v1.7.1

#       env:
#         NETLIFY_AUTH_TOKEN: ${{ secrets.NETLIFY_SPACEX_TOKEN }}
#         NETLIFY_SITE_ID: ${{ secrets.NETLIFY_SITEID }}
#         run: netlify deploy --prod

# # This is a basic workflow to help you get started with Actions

# name: Project 1 React Expense Tracker App

# # Controls when the action will run. 
# on:
#   # Triggers the workflow on push or pull request events but only for the main branch
#   push:
#     branches: [ main ]

#   # Allows you to run this workflow manually from the Actions tab
#   workflow_dispatch:

# # A workflow run is made up of one or more jobs that can run sequentially or in parallel
# jobs:
#   # This workflow contains a single job called "build"
#   build:
#     # The type of runner that the job will run on
#     runs-on: ubuntu-latest

#     # Steps represent a sequence of tasks that will be executed as part of the job
#     steps:
#       # Checks-out your repository under $GITHUB_WORKSPACE, so your job can access it
#       - uses: actions/checkout@v2

#       # Runs a single command using the runners shell
#       - name: Installing Node
#         uses: actions/setup-node@v2-beta
#         with:
#           node-version: 16

#       # Runs a set of commands using the runners shell
#       - name: Github Actions for npm
#         uses: jaid/action-npm-install@v1.2.1
#         with:
#           cmd: install
      
#       - name: creating build
#         run: npm run build

#       - name: Netlify Deploy
#         uses: jsmrcaga/action-netlify-deploy@v1.7.1

#       env:
#         NETLIFY_AUTH_TOKEN: ${{ secrets.NETLIFY_SPACEX_TOKEN }}
#         NETLIFY_SITE_ID: ${{ secrets.NETLIFY_SITEID }}
#         run: netlify deploy --prod

# This is a basic workflow to help you get started with Actions

name: Timer App TDD

# Controls when the workflow will run
on:
  # Triggers the workflow on push or pull request events but only for the master branch
  push:
    branches: [ master ]
  pull_request:
    branches: [ master ]

  # Allows you to run this workflow manually from the Actions tab
  workflow_dispatch:

# A workflow run is made up of one or more jobs that can run sequentially or in parallel
jobs:
  # This workflow contains a single job called "build"
  build:
    # The type of runner that the job will run on
    runs-on: ubuntu-latest

    # Steps represent a sequence of tasks that will be executed as part of the job
    steps:
      # Checks-out your repository under $GITHUB_WORKSPACE, so your job can access it
      - uses: actions/checkout@v2

      # Runs a single command using the runners shell
      - name: Installing Node
        uses: actions/setup-node@v2-beta
        with:
          node-version: 16

      # Runs a set of commands using the runners shell
      - name: Github Actions for npm
        uses: jaid/action-npm-install@v1.2.1
        with:
          cmd: install
          
      - name: testing
        run: npm test
        
      - name: creating build
        run: yarn build
        
      - name: Netlify Deploy
        uses: jsmrcaga/action-netlify-deploy@v1.7.1

      env:
        NETLIFY_AUTH_TOKEN: ${{ secrets.NETLIFY_SPACEX_TOKEN }}
        NETLIFY_SITE_ID: ${{ secrets.NETLIFY_SITEID }}
        run: netlify deploy --prod